var domArrowSelect=function(){"use strict";function t(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function e(t,e){void 0===e&&(e=null);var r=Object.create(w);return r._records=Object.create(null),r.element="string"==typeof t?document.querySelector(t):t,e&&e.list.push(r),r}function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){}function o(t){return null!=t&&"object"==typeof t&&t.nodeType===Node.ELEMENT_NODE&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}function i(t){return t.getBoundingClientRect()}function c(t){return t.bottom-t.top}function u(t){return t.right-t.left}function a(t){return null!==t.offsetParent}function l(t,e,r){return a(e)?e:t[r](e)}function f(t,e,r){var n=document.elementFromPoint(e,r),o=n;if(n)for(var i=0;i<5;i++){if(!(n=o))return;if((o=n.parentNode)===t.parentNode)return n}}function s(t,e,r){void 0===r&&(r={});var n=r.range;void 0===n&&(n=1);var i=r.wrap;if(void 0===i&&(i=0),!o(t))throw new TypeError("element is not a DOM element. Instead element is equal to "+t+".");if(void 0===Z[e])throw new TypeError("direction should be up, down, left, or right. Instead direction is equal to "+e+".");if(V(n))throw new TypeError("options.range should be a number. Instead options.range is equal to "+n);return Z[e](t,n,i)}function p(t,e,r){void 0===r&&(r={});var n=r.xrange;void 0===n&&(n=10);var o=r.yrange;void 0===o&&(o=10);var i=r.depth;void 0===i&&(i=5);var c=r.reverse;void 0===c&&(c=!1);var u,a,l=rt,f=nt;if(c&&(l=nt,f=rt),-1!==l.indexOf(e)){var s=t.getBoundingClientRect();u=document.elementFromPoint(s.left+n,s.top+o)}else if(-1!==f.indexOf(e)){var p=t.getBoundingClientRect();u=document.elementFromPoint(p.right-n,p.bottom-o)}a=u;for(var h=0;h<i;h++)if(u=a,(a=a.parentNode)===t)return u}function h(t,e,r,n){t[r]={};var o=e.range,i=e.wrap;return Object.defineProperties(t[r],{range:{set:function(t){o=t},get:function(){return o||n.range}},wrap:{set:function(t){i=t},get:function(){return i||n.wrap}}}),t}function d(t,e){var r={};return h(r,t,"down",e),h(r,t,"up",e),h(r,t,"left",e),h(r,t,"right",e),t}function v(t){return ot[t]||null}function b(t,e){return t.children[t.children.length-1]===e?"last":t.children[0]===e?"first":null}var y=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,w=(function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(e,r){for(var n,o,i=arguments,c=t(e),u=1;u<arguments.length;u++){n=Object(i[u]);for(var a in n)g.call(n,a)&&(c[a]=n[a]);if(y){o=y(n);for(var l=0;l<o.length;l++)m.call(n,o[l])&&(c[o[l]]=n[o[l]])}}return c})(Object.create(null),{on:function(t,e,r){return this.element.addEventListener(t,e,r),this._records[t]=this._records[t]||[],this._records[t].push([t,e,r]),this},off:function(t,e,r){if(this.element.removeEventListener(t,e,r),void 0!==this._records[t])for(var n=this._records[t],o=0;o<n.length;o++)n[o][1]===e&&n[o][2]===r&&(n.splice(o,1),o+1!==n.length&&--o);return this},dispatch:function(t){return this.element.dispatchEvent(t),this},clear:function(){var t=this;for(var e in t._records)t._records[e].forEach(function(e){(r=t).off.apply(r,e);var r});return this}});e.track=function(){return{list:[],clear:function(){this.list.forEach(function(t){t.clear()})}}};var j=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,S=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,i=arguments,c=r(t),u=1;u<arguments.length;u++){n=Object(i[u]);for(var a in n)O.call(n,a)&&(c[a]=n[a]);if(j){o=j(n);for(var l=0;l<o.length;l++)N.call(n,o[l])&&(c[o[l]]=n[o[l]])}}return c};n.prototype=function(){if("function"!=typeof Object.create){var t=new Object;return t.__proto__=null,t}return Object.create(null)}();var E=Object.prototype.toString,k=function(t){var e=E.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===E.call(t.callee)),r},P=Object.prototype.hasOwnProperty,$=Object.prototype.toString,T=Array.prototype.slice,I=Object.prototype.propertyIsEnumerable,_=!I.call({toString:null},"toString"),A=I.call(function(){},"prototype"),L=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=function(t){var e=t.constructor;return e&&e.prototype===t},q={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},M=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!q["$"+t]&&P.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{D(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),x=function(t){if("undefined"==typeof window||!M)return D(t);try{return D(t)}catch(t){return!1}},C=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===$.call(t),n=k(t),o=e&&"[object String]"===$.call(t),i=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var c=A&&r;if(o&&t.length>0&&!P.call(t,0))for(var u=0;u<t.length;++u)i.push(String(u));if(n&&t.length>0)for(var a=0;a<t.length;++a)i.push(String(a));else for(var l in t)c&&"prototype"===l||!P.call(t,l)||i.push(String(l));if(_)for(var f=x(t),s=0;s<L.length;++s)f&&"constructor"===L[s]||!P.call(t,L[s])||i.push(L[s]);return i};C.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(k(e)?T.call(e):e)}}}else Object.keys=C;return Object.keys||C};var F=C,H=Object.prototype.hasOwnProperty,B=Object.prototype.toString,R=function(t,e,r){if("[object Function]"!==B.call(e))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var o=0;o<n;o++)e.call(r,t[o],o,t);else for(var i in t)H.call(t,i)&&e.call(r,t[i],i,t)},W="function"==typeof Symbol&&"symbol"==typeof Symbol(),X=Object.prototype.toString,Y=function(t){return"function"==typeof t&&"[object Function]"===X.call(t)},z=Object.defineProperty&&function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),G=function(t,e,r,n){(!(e in t)||Y(n)&&n())&&(z?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},J=function(t,e){var r=arguments.length>2?arguments[2]:{},n=F(e);W&&(n=n.concat(Object.getOwnPropertySymbols(e))),R(n,function(n){G(t,n,e[n],r[n])})};J.supportsDescriptors=!!z;var K=J,Q=function(t){return t!==t},U=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:Q};K(Q,{getPolyfill:U,implementation:Q,shim:function(){var t=U();return K(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}});var V=Q,Z=function(){for(var t=arguments,e=[],r=arguments.length;r--;)e[r]=t[r];var o=new n;return S.apply(void 0,[o].concat(e)),o}({left:function(t,e,r){void 0===r&&(r=0);var n=i(t),o=n.left-e,u=n.top+c(n)/2,a=f(t,o,u);if(a)return l(this,a,"left");if(r){var s=f(t,o=i(t.parentNode).right-r,u);if(s)return l(this,s,"left")}},up:function(t,e,r){void 0===r&&(r=0);var n=i(t),o=n.left+u(n)/2,c=n.top-e,a=f(t,o,c);if(a)return l(this,a,"up");if(r){var s=f(t,o,c=i(t.parentNode).bottom-r);if(s)return l(this,s,"up")}},right:function(t,e,r){void 0===r&&(r=0);var n=i(t),o=n.right+e,u=n.top+c(n)/2,a=f(t,o,u);if(a)return l(this,a,"right");if(r){var s=f(t,o=i(t.parentNode).left+r,u);if(s)return l(this,s,"right")}},down:function(t,e,r){void 0===r&&(r=0);var n=i(t),o=n.left+u(n)/2,c=n.bottom+e,a=f(t,o,c);if(a)return l(this,a,"down");if(r){var s=f(t,o,c=i(t.parentNode).top+r);if(s)return l(this,s,"down")}}}),tt=function(){var t=function(t){return"function"==typeof t},e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},r=Math.pow(2,53)-1,n=function(t){var n=e(t);return Math.min(Math.max(n,0),r)},o=function(t){if(null!=t){if(["string","number","boolean","symbol"].indexOf(typeof t)>-1)return Symbol.iterator;if("undefined"!=typeof Symbol&&"iterator"in Symbol&&Symbol.iterator in t)return Symbol.iterator;if("@@iterator"in t)return"@@iterator"}},i=function(e,r){if(null!=e&&null!=r){var n=e[r];if(null==n)return;if(!t(n))throw new TypeError(n+" is not a function");return n}},c=function(t){var e=t.next();return!Boolean(e.done)&&e};return function(e){var r,u=this,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(r=arguments[2])}var l,f,s=i(e,o(e));if(void 0!==s){l=t(u)?Object(new u):[];var p=s.call(e);if(null==p)throw new TypeError("Array.from requires an array-like or iterable object");f=0;for(var h,d;;){if(!(h=c(p)))return l.length=f,l;d=h.value,l[f]=a?a.call(r,d,f):d,f++}}else{var v=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var b=n(v.length);l=t(u)?Object(new u(b)):new Array(b),f=0;for(var y;f<b;)y=v[f],l[f]=a?a.call(r,y,f):y,f++;l.length=b}return l}}(),et="function"==typeof Array.from?Array.from:tt,rt=["up","left",-1],nt=["down","right",1],ot={37:"left",38:"up",39:"right",40:"down"},it=function(t,r){var n=this;void 0===r&&(r={});var o=r.step;void 0===o&&(o={});var i=r.selectID;void 0===i&&(i="dom-arrow-select-selected");var c=r.selected;void 0===c&&(c=function(t,e){this.unSelect(e),this.select(t)});var u=r.range;void 0===u&&(u=1);var a=r.wrap;void 0===a&&(a=5),this.range=u,this.wrap=a,this.element=t,this.current=null,this.selectID=i,this.step=d(o,this);var l=this.tracker=e.track();e(document,l).on("keyup",function(e){var r=v(e.which||e.keyCode);if(r){var o=n.current,i=null;(i=o?s(o,r,n.step[r]):p(t,r,{reverse:!0}))&&t.parentNode&&c.call(n,i,n.current,b(t,i))}}),this.destroy=function(){l.clear()}};return it.prototype.unSelect=function(t){if(t){if(t.parentNode!==this.element)throw new TypeError(t.outerHTML+" is not a child of "+this.element.outerHTML);t.classList.remove(this.selectID),this.current===t&&(this.current=null)}},it.prototype.select=function(t){if(t.parentNode!==this.element)throw new TypeError(t.outerHTML+" is not a child of "+this.element.outerHTML);t!==this.current&&(t.classList.add(this.selectID),this.current=t)},it.prototype.unSelectAll=function(){var t=this;et(this.element.querySelectorAll("."+this.selectID)).forEach(function(e){e.classList.remove(t.selectID)}),this.current=null},it.prototype.selectAll=function(){for(var t=this,e=this.element.children,r=0;r<e.length;r++)e[r].classList.add(t.selectID);this.current=e[e.length-1]},function(t,e){return new it(t,e)}}();
//# sourceMappingURL=dom-arrow-select.min.js.map
