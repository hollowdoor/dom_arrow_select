var domArrowSelect=function(){"use strict";function t(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function e(t,e){void 0===e&&(e=null);var r=Object.create(y);return r._records=Object.create(null),r.element="string"==typeof t?document.querySelector(t):t,e&&e.list.push(r),r}function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){}function o(t){return null!=t&&"object"==typeof t&&t.nodeType===Node.ELEMENT_NODE&&"object"==typeof t.style&&"object"==typeof t.ownerDocument}function i(t,e){return e!==t&&t===e.parentNode&&t.contains(e)}function c(t){return t.getBoundingClientRect()}function a(t){return t.bottom-t.top}function u(t){return t.right-t.left}function l(t){return null!==t.offsetParent}function f(t,e,r){return l(e)?e:t[r](e)}function s(t,e,r){void 0===r&&(r={});var n=r.range;void 0===n&&(n=1);var i=r.wrap;if(void 0===i&&(i=0),!o(t))throw new TypeError("element is not a DOM element. Instead element is equal to "+t+".");if(void 0===K[e])throw new TypeError("direction should be up, down, left, or right. Instead direction is equal to "+e+".");if(J(n))throw new TypeError("options.range should be a number. Instead options.range is equal to "+n);return K[e](t,n,i)}function p(t){return Q[t]||null}var d=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,y=(function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(e,r){for(var n,o,i=arguments,c=t(e),a=1;a<arguments.length;a++){n=Object(i[a]);for(var u in n)h.call(n,u)&&(c[u]=n[u]);if(d){o=d(n);for(var l=0;l<o.length;l++)b.call(n,o[l])&&(c[o[l]]=n[o[l]])}}return c})(Object.create(null),{on:function(t,e,r){return this.element.addEventListener(t,e,r),this._records[t]=this._records[t]||[],this._records[t].push([t,e,r]),this},off:function(t,e,r){if(this.element.removeEventListener(t,e,r),void 0!==this._records[t])for(var n=this._records[t],o=0;o<n.length;o++)n[o][1]===e&&n[o][2]===r&&(n.splice(o,1),o+1!==n.length&&--o);return this},dispatch:function(t){return this.element.dispatchEvent(t),this},clear:function(){var t=this;for(var e in t._records)t._records[e].forEach(function(e){(r=t).off.apply(r,e);var r});return this}});e.track=function(){return{list:[],clear:function(){this.list.forEach(function(t){t.clear()})}}};var g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,j=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,o,i=arguments,c=r(t),a=1;a<arguments.length;a++){n=Object(i[a]);for(var u in n)v.call(n,u)&&(c[u]=n[u]);if(g){o=g(n);for(var l=0;l<o.length;l++)m.call(n,o[l])&&(c[o[l]]=n[o[l]])}}return c};n.prototype=function(){if("function"!=typeof Object.create){var t=new Object;return t.__proto__=null,t}return Object.create(null)}();var O=Object.prototype.toString,w=function(t){var e=O.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===O.call(t.callee)),r},N=Object.prototype.hasOwnProperty,P=Object.prototype.toString,S=Array.prototype.slice,E=Object.prototype.propertyIsEnumerable,$=!E.call({toString:null},"toString"),k=E.call(function(){},"prototype"),_=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=function(t){var e=t.constructor;return e&&e.prototype===t},T={$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},q=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!T["$"+t]&&N.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{F(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),I=function(t){if("undefined"==typeof window||!q)return F(t);try{return F(t)}catch(t){return!1}},C=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===P.call(t),n=w(t),o=e&&"[object String]"===P.call(t),i=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var c=k&&r;if(o&&t.length>0&&!N.call(t,0))for(var a=0;a<t.length;++a)i.push(String(a));if(n&&t.length>0)for(var u=0;u<t.length;++u)i.push(String(u));else for(var l in t)c&&"prototype"===l||!N.call(t,l)||i.push(String(l));if($)for(var f=I(t),s=0;s<_.length;++s)f&&"constructor"===_[s]||!N.call(t,_[s])||i.push(_[s]);return i};C.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(w(e)?S.call(e):e)}}}else Object.keys=C;return Object.keys||C};var x=C,L=Object.prototype.hasOwnProperty,D=Object.prototype.toString,A=function(t,e,r){if("[object Function]"!==D.call(e))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var o=0;o<n;o++)e.call(r,t[o],o,t);else for(var i in t)L.call(t,i)&&e.call(r,t[i],i,t)},B="function"==typeof Symbol&&"symbol"==typeof Symbol(),R=Object.prototype.toString,H=function(t){return"function"==typeof t&&"[object Function]"===R.call(t)},M=Object.defineProperty&&function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),W=function(t,e,r,n){(!(e in t)||H(n)&&n())&&(M?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},X=function(t,e){var r=arguments.length>2?arguments[2]:{},n=x(e);B&&(n=n.concat(Object.getOwnPropertySymbols(e))),A(n,function(n){W(t,n,e[n],r[n])})};X.supportsDescriptors=!!M;var Y=X,z=function(t){return t!==t},G=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:z};Y(z,{getPolyfill:G,implementation:z,shim:function(){var t=G();return Y(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}});var J=z,K=function(){for(var t=arguments,e=[],r=arguments.length;r--;)e[r]=t[r];var o=new n;return j.apply(void 0,[o].concat(e)),o}({left:function(t,e,r){void 0===r&&(r=0);var n=c(t),o=n.left-e,u=n.top+a(n)/2,l=document.elementFromPoint(o,u);if(i(t.parentNode,l))return f(this,l,"left");if(r){o=c(t.parentNode).right-r;var s=document.elementFromPoint(o,u);if(i(t.parentNode,s))return f(this,s,"left")}},up:function(t,e,r){void 0===r&&(r=0);var n=c(t),o=n.left+u(n)/2,a=n.top-e,l=document.elementFromPoint(o,a);if(i(t.parentNode,l))return f(this,l,"up");if(r){a=c(t.parentNode).bottom-r;var s=document.elementFromPoint(o,a);if(i(t.parentNode,s))return f(this,s,"up")}},right:function(t,e,r){void 0===r&&(r=0);var n=c(t),o=n.right+e,u=n.top+a(n)/2,l=document.elementFromPoint(o,u);if(i(t.parentNode,l))return f(this,l,"right");if(r){o=c(t.parentNode).left+r;var s=document.elementFromPoint(o,u);if(i(t.parentNode,s))return f(this,s,"right")}},down:function(t,e,r){void 0===r&&(r=0);var n=c(t),o=n.left+u(n)/2,a=n.bottom+e,l=document.elementFromPoint(o,a);if(i(t.parentNode,l))return f(this,l,"down");if(r){a=c(t.parentNode).top+r;var s=document.elementFromPoint(o,a);if(i(t.parentNode,s))return f(this,s,"down")}}}),Q={37:"left",38:"up",39:"right",40:"down"},U=function(t,r){var n=this;void 0===r&&(r={});var o=r.step;void 0===o&&(o={});var i=r.selected;void 0===i&&(i=null);var c=r.range;void 0===c&&(c=1);var a=r.wrap;void 0===a&&(a=5),["down","up","left","right"].forEach(function(t){o[t]=o[t]||{},o[t].range=o[t].range||c,o[t].wrap=o[t].wrap||a}),this.step=o;var u=this.tracker=e.track();console.log("step ",o),e(document,u).on("keyup",function(e){try{var r=p(e.which||e.keyCode);if(r){var o=t.querySelector("."+i),c=null;if(o)console.log("stepping"),c=s(o,r,n.step[r]);else if(-1!==["down","right"].indexOf(r)){var a=t.getBoundingClientRect();c=document.elementFromPoint(a.left+10,a.top+10)}else if(-1!==["up","left"].indexOf(r)){var u=t.getBoundingClientRect();c=document.elementFromPoint(u.right-10,u.bottom-10)}console.log("el ",o),console.log("next ",c),c&&(o&&o.classList.remove(i),c.classList.add(i))}}catch(t){console.log(t)}}),this.destroy=function(){u.clear()}};return function(t,e){return new U(t,e)}}();
//# sourceMappingURL=dom-arrow-select.min.js.map
